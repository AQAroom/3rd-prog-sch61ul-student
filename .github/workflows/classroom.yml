name: "BankAccount Class Tests"
on:
  push:
  repository_dispatch:
permissions:
  checks: write
  actions: read
  contents: read

jobs:
  # JOB 1: ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹ ÐºÐ»Ð°ÑÑÐ°
  run-structure-tests:
    name: ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹ BankAccount
    runs-on: ubuntu-latest
    if: github.actor != 'github-classroom[bot]'
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      
      - name: Setup Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.x'
      
      - name: Create structure test script
        run: |
          cat > test_structure.py << 'EOF'
          import ast
          import sys
          
          def check_structure():
              try:
                  with open('task.py', 'r', encoding='utf-8') as f:
                      code = f.read()
              except FileNotFoundError:
                  print("ERROR: Ð¤Ð°Ð¹Ð» task.py Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½")
                  return False
              
              try:
                  tree = ast.parse(code)
              except SyntaxError as e:
                  print(f"ERROR: Ð¡Ð¸Ð½Ñ‚Ð°ÐºÑÐ¸Ñ‡ÐµÑÐºÐ°Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ°: {e}")
                  return False
              
              bank_class = None
              for node in ast.walk(tree):
                  if isinstance(node, ast.ClassDef) and node.name == 'BankAccount':
                      bank_class = node
                      break
              
              if not bank_class:
                  print("ERROR: ÐšÐ»Ð°ÑÑ BankAccount Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½")
                  return False
              
              methods_found = []
              for item in bank_class.body:
                  if isinstance(item, ast.FunctionDef):
                      methods_found.append(item.name)
              
              required_methods = ["__init__", "add", "status", "withdraw"]
              missing_methods = [m for m in required_methods if m not in methods_found]
              
              if missing_methods:
                  print(f"ERROR: ÐžÑ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‚ Ð¼ÐµÑ‚Ð¾Ð´Ñ‹: {', '.join(missing_methods)}")
                  return False
              
              init_method = None
              for item in bank_class.body:
                  if isinstance(item, ast.FunctionDef) and item.name == "__init__":
                      init_method = item
                      break
              
              if not init_method:
                  print("ERROR: ÐœÐµÑ‚Ð¾Ð´ __init__ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½")
                  return False
              
              attributes_found = set()
              for node in ast.walk(init_method):
                  if isinstance(node, ast.Assign):
                      for target in node.targets:
                          if isinstance(target, ast.Attribute):
                              attributes_found.add(target.attr)
              
              required_attrs = ["account_number", "balance"]
              missing_attrs = [a for a in required_attrs if a not in attributes_found]
              
              if missing_attrs:
                  print(f"ERROR: ÐžÑ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‚ Ð°Ñ‚Ñ€Ð¸Ð±ÑƒÑ‚Ñ‹: {', '.join(missing_attrs)}")
                  return False
              
              status_called = False
              for node in ast.walk(init_method):
                  if (isinstance(node, ast.Call) and 
                      isinstance(node.func, ast.Attribute) and 
                      node.func.attr == "status"):
                      status_called = True
                      break
              
              if not status_called:
                  print("ERROR: ÐœÐµÑ‚Ð¾Ð´ status() Ð½Ðµ Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð² __init__")
                  return False
              
              print("SUCCESS: Ð’ÑÐµ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹ Ð¿Ñ€Ð¾Ð¹Ð´ÐµÐ½Ñ‹")
              return True
          
          if __name__ == "__main__":
              sys.exit(0 if check_structure() else 1)
          EOF
      
      - name: Check class structure
        id: structure_test
        uses: classroom-resources/autograding-io-grader@v1
        with:
          test-name: "ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹ BankAccount"
          command: "python test_structure.py"
          expected-output: "SUCCESS: Ð’ÑÐµ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹ Ð¿Ñ€Ð¾Ð¹Ð´ÐµÐ½Ñ‹"
          comparison-method: contains
          timeout: 10
          max-score: 50

  # JOB 2: ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð²Ð²Ð¾Ð´Ð°-Ð²Ñ‹Ð²Ð¾Ð´Ð°
  run-io-tests:
    name: ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð²Ð²Ð¾Ð´Ð°-Ð²Ñ‹Ð²Ð¾Ð´Ð° BankAccount
    runs-on: ubuntu-latest
    needs: run-structure-tests
    if: github.actor != 'github-classroom[bot]'
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      
      - name: Setup Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.x'
      
      - name: Create I/O test script
        run: |
          cat > test_bank.py << 'EOF'
          import sys
          
          try:
              from task import BankAccount
          except ImportError:
              sys.exit(1)
          
          if __name__ == "__main__":
              data = sys.stdin.read().strip().split()
              if len(data) == 2:
                  try:
                      balance = int(data[0])
                      operation = int(data[1])
                      
                      acc = BankAccount("test", balance)
                      
                      if operation >= 0:
                          acc.add(operation)
                      else:
                          acc.withdraw(-operation)
                      
                      acc.status()
                  except Exception:
                      pass
          EOF
      
      # Test 1: Deposit
      - name: "Ð¢ÐµÑÑ‚ 1 - ÐŸÐ¾Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ ÑÑ‡ÐµÑ‚Ð°"
        id: test1
        uses: classroom-resources/autograding-io-grader@v1
        with:
          test-name: "ÐŸÐ¾Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ ÑÑ‡ÐµÑ‚Ð°"
          command: "python test_bank.py"
          input: |
            1000
            200
          expected-output: |
            Ð‘Ð°Ð»Ð°Ð½Ñ ÑÑ‡Ñ‘Ñ‚Ð°: 1000 ÐµÐ´Ð¸Ð½Ð¸Ñ†
            ÐÐ° ÑÑ‡ÐµÑ‚ Ð·Ð°Ñ‡Ð¸ÑÐ»ÐµÐ½Ð¾: 200 ÐµÐ´Ð¸Ð½Ð¸Ñ†
            Ð‘Ð°Ð»Ð°Ð½Ñ ÑÑ‡Ñ‘Ñ‚Ð°: 1200 ÐµÐ´Ð¸Ð½Ð¸Ñ†
          comparison-method: exact
          timeout: 5
          max-score: 17
      
      # Test 2: Withdrawal
      - name: "Ð¢ÐµÑÑ‚ 2 - Ð¡Ð½ÑÑ‚Ð¸Ðµ ÑÑ€ÐµÐ´ÑÑ‚Ð²"
        id: test2
        uses: classroom-resources/autograding-io-grader@v1
        with:
          test-name: "Ð¡Ð½ÑÑ‚Ð¸Ðµ ÑÑ€ÐµÐ´ÑÑ‚Ð²"
          command: "python test_bank.py"
          input: |
            1000
            -300
          expected-output: |
            Ð‘Ð°Ð»Ð°Ð½Ñ ÑÑ‡Ñ‘Ñ‚Ð°: 1000 ÐµÐ´Ð¸Ð½Ð¸Ñ†
            Ð¡Ð¾ ÑÑ‡ÐµÑ‚Ð° ÑÐ½ÑÑ‚Ð¾: 300 ÐµÐ´Ð¸Ð½Ð¸Ñ†
            Ð‘Ð°Ð»Ð°Ð½Ñ ÑÑ‡Ñ‘Ñ‚Ð°: 700 ÐµÐ´Ð¸Ð½Ð¸Ñ†
          comparison-method: exact
          timeout: 5
          max-score: 17
      
      # Test 3: Insufficient funds
      - name: "Ð¢ÐµÑÑ‚ 3 - ÐÐµÐ´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ ÑÑ€ÐµÐ´ÑÑ‚Ð²"
        id: test3
        uses: classroom-resources/autograding-io-grader@v1
        with:
          test-name: "ÐÐµÐ´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ ÑÑ€ÐµÐ´ÑÑ‚Ð²"
          command: "python test_bank.py"
          input: |
            1000
            -1100
          expected-output: |
            Ð‘Ð°Ð»Ð°Ð½Ñ ÑÑ‡Ñ‘Ñ‚Ð°: 1000 ÐµÐ´Ð¸Ð½Ð¸Ñ†
            ÐÐµÐ´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ ÑÑ€ÐµÐ´ÑÑ‚Ð² Ð½Ð° ÑÑ‡ÐµÑ‚Ðµ
            Ð‘Ð°Ð»Ð°Ð½Ñ ÑÑ‡Ñ‘Ñ‚Ð°: 1000 ÐµÐ´Ð¸Ð½Ð¸Ñ†
          comparison-method: exact
          timeout: 5
          max-score: 16

  # JOB 3: Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ð¾Ñ‚Ñ‡ÐµÑ‚Ð°
  generate-report:
    name: Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ð¾Ñ‚Ñ‡ÐµÑ‚Ð°
    runs-on: ubuntu-latest
    needs: [run-structure-tests, run-io-tests]
    if: always()
    
    steps:
      - name: Extract Scores
        id: extract_scores
        run: |
          decode_and_get_score() {
            local encoded_result="$1"
            if [ -z "$encoded_result" ] || [ "$encoded_result" = "null" ]; then
              echo "0"
              return
            fi
            
            local score=$(echo "$encoded_result" | base64 -d | python3 -c "
import sys, json
try:
    data = json.load(sys.stdin)
    if 'tests' in data and len(data['tests']) > 0:
        print(data['tests'][0]['score'])
    else:
        print('0')
except:
    print('0')
" 2>/dev/null || echo "0")
            
            echo "$score"
          }
          
          STRUCTURE_SCORE=$(decode_and_get_score '${{ needs.run-structure-tests.outputs.result }}')
          TEST1_SCORE=$(decode_and_get_score '${{ needs.run-io-tests.outputs.test1-result }}')
          TEST2_SCORE=$(decode_and_get_score '${{ needs.run-io-tests.outputs.test2-result }}')
          TEST3_SCORE=$(decode_and_get_score '${{ needs.run-io-tests.outputs.test3-result }}')
          
          echo "structure_score=$STRUCTURE_SCORE" >> $GITHUB_OUTPUT
          echo "test1_score=$TEST1_SCORE" >> $GITHUB_OUTPUT
          echo "test2_score=$TEST2_SCORE" >> $GITHUB_OUTPUT
          echo "test3_score=$TEST3_SCORE" >> $GITHUB_OUTPUT
          
          TOTAL_POINTS=$((STRUCTURE_SCORE + TEST1_SCORE + TEST2_SCORE + TEST3_SCORE))
          echo "total_points=$TOTAL_POINTS" >> $GITHUB_OUTPUT
          
          echo "STRUCTURE_SCORE=$STRUCTURE_SCORE" >> $GITHUB_ENV
          echo "TEST1_SCORE=$TEST1_SCORE" >> $GITHUB_ENV
          echo "TEST2_SCORE=$TEST2_SCORE" >> $GITHUB_ENV
          echo "TEST3_SCORE=$TEST3_SCORE" >> $GITHUB_ENV
          echo "TOTAL_POINTS=$TOTAL_POINTS" >> $GITHUB_ENV
      
      - name: Generate Test Report
        run: |
          STRUCTURE_SCORE="${STRUCTURE_SCORE:-0}"
          TEST1_SCORE="${TEST1_SCORE:-0}"
          TEST2_SCORE="${TEST2_SCORE:-0}"
          TEST3_SCORE="${TEST3_SCORE:-0}"
          TOTAL_POINTS="${TOTAL_POINTS:-0}"
          
          STRUCTURE_MAX=50
          TEST1_MAX=17
          TEST2_MAX=17
          TEST3_MAX=16
          MAX_POINTS=$((STRUCTURE_MAX + TEST1_MAX + TEST2_MAX + TEST3_MAX))
          
          echo "## ðŸ¦ Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸: ÐšÐ»Ð°ÑÑ BankAccount" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          
          echo "### ðŸ“‹ ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹ ÐºÐ»Ð°ÑÑÐ°" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "| ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° | Ð‘Ð°Ð»Ð»Ñ‹ | ÐœÐ°ÐºÑÐ¸Ð¼ÑƒÐ¼ | Ð¡Ñ‚Ð°Ñ‚ÑƒÑ |" >> $GITHUB_STEP_SUMMARY
          echo "|----------|-------|----------|--------|" >> $GITHUB_STEP_SUMMARY
          
          if [ "$STRUCTURE_SCORE" -eq "$STRUCTURE_MAX" ]; then
            STRUCTURE_STATUS="âœ…"
          else
            STRUCTURE_STATUS="âŒ"
          fi
          echo "| **Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° ÐºÐ»Ð°ÑÑÐ°** | $STRUCTURE_SCORE | $STRUCTURE_MAX | $STRUCTURE_STATUS |" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          
          echo "**Ð§Ñ‚Ð¾ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐµÑ‚ÑÑ:**" >> $GITHUB_STEP_SUMMARY
          echo "- ÐÐ°Ð»Ð¸Ñ‡Ð¸Ðµ ÐºÐ»Ð°ÑÑÐ° BankAccount" >> $GITHUB_STEP_SUMMARY
          echo "- ÐœÐµÑ‚Ð¾Ð´Ñ‹: \`__init__\`, \`add\`, \`status\`, \`withdraw\`" >> $GITHUB_STEP_SUMMARY
          echo "- ÐÑ‚Ñ€Ð¸Ð±ÑƒÑ‚Ñ‹: \`account_number\`, \`balance\`" >> $GITHUB_STEP_SUMMARY
          echo "- Ð’Ñ‹Ð·Ð¾Ð² \`status()\` Ð² \`__init__()\`" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          
          echo "### ðŸ§ª Ð¢ÐµÑÑ‚Ñ‹ Ð²Ð²Ð¾Ð´Ð°-Ð²Ñ‹Ð²Ð¾Ð´Ð°" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "| Ð¢ÐµÑÑ‚ | Ð‘Ð°Ð»Ð»Ñ‹ | ÐœÐ°ÐºÑÐ¸Ð¼ÑƒÐ¼ | Ð¡Ñ‚Ð°Ñ‚ÑƒÑ |" >> $GITHUB_STEP_SUMMARY
          echo "|------|-------|----------|--------|" >> $GITHUB_STEP_SUMMARY
          
          if [ "$TEST1_SCORE" -eq "$TEST1_MAX" ]; then
            TEST1_STATUS="âœ…"
          else
            TEST1_STATUS="âŒ"
          fi
          echo "| **ÐŸÐ¾Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ ÑÑ‡ÐµÑ‚Ð°** | $TEST1_SCORE | $TEST1_MAX | $TEST1_STATUS |" >> $GITHUB_STEP_SUMMARY
          
          if [ "$TEST2_SCORE" -eq "$TEST2_MAX" ]; then
            TEST2_STATUS="âœ…"
          else
            TEST2_STATUS="âŒ"
          fi
          echo "| **Ð¡Ð½ÑÑ‚Ð¸Ðµ ÑÑ€ÐµÐ´ÑÑ‚Ð²** | $TEST2_SCORE | $TEST2_MAX | $TEST2_STATUS |" >> $GITHUB_STEP_SUMMARY
          
          if [ "$TEST3_SCORE" -eq "$TEST3_MAX" ]; then
            TEST3_STATUS="âœ…"
          else
            TEST3_STATUS="âŒ"
          fi
          echo "| **ÐÐµÐ´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ ÑÑ€ÐµÐ´ÑÑ‚Ð²** | $TEST3_SCORE | $TEST3_MAX | $TEST3_STATUS |" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          
          echo "### ðŸ“Š Ð˜Ñ‚Ð¾Ð³Ð¾Ð²Ð°Ñ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "**Ð’ÑÐµÐ³Ð¾ Ð±Ð°Ð»Ð»Ð¾Ð²:** **$TOTAL_POINTS / $MAX_POINTS**" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          
          if [ "$MAX_POINTS" -gt 0 ]; then
            PERCENTAGE=$((TOTAL_POINTS * 100 / MAX_POINTS))
          else
            PERCENTAGE=0
          fi
          
          echo "**ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ:**" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo '<div style="background: #e1e4e8; border-radius: 4px; height: 20px; width: 100%;">' >> $GITHUB_STEP_SUMMARY
          echo '  <div style="background: #2ea44f; border-radius: 4px; height: 100%; width: '$PERCENTAGE'%;"></div>' >> $GITHUB_STEP_SUMMARY
          echo '</div>' >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          
          if [ "$TOTAL_POINTS" -eq "$MAX_POINTS" ]; then
            echo "ðŸŽ‰ **ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°! Ð’ÑÐµ Ñ‚ÐµÑÑ‚Ñ‹ Ð¿Ñ€Ð¾Ð¹Ð´ÐµÐ½Ñ‹!**" >> $GITHUB_STEP_SUMMARY
          elif [ "$PERCENTAGE" -ge 80 ]; then
            echo "ðŸ‘ **Ð¥Ð¾Ñ€Ð¾ÑˆÐ¸Ð¹ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚!**" >> $GITHUB_STEP_SUMMARY
          elif [ "$PERCENTAGE" -ge 60 ]; then
            echo "âš ï¸ **Ð•ÑÑ‚ÑŒ Ð½Ð°Ð´ Ñ‡ÐµÐ¼ Ð¿Ð¾Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ.**" >> $GITHUB_STEP_SUMMARY
          else
            echo "âŒ **ÐÑƒÐ¶Ð½Ð¾ ÑÐµÑ€ÑŒÐµÐ·Ð½Ð¾ Ð¿Ð¾Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð½Ð°Ð´ Ð·Ð°Ð´Ð°Ð½Ð¸ÐµÐ¼.**" >> $GITHUB_STEP_SUMMARY
          fi
          
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "---" >> $GITHUB_STEP_SUMMARY
          echo "*ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°*" >> $GITHUB_STEP_SUMMARY
      
      - name: Autograding Reporter
        id: reporter
        uses: classroom-resources/autograding-grading-reporter@v1
        env:
          STRUCTURE_TEST_RESULTS: "${{ needs.run-structure-tests.outputs.result }}"
          TEST1_RESULTS: "${{ needs.run-io-tests.outputs.test1-result }}"
          TEST2_RESULTS: "${{ needs.run-io-tests.outputs.test2-result }}"
          TEST3_RESULTS: "${{ needs.run-io-tests.outputs.test3-result }}"
        with:
          runners: run-structure-tests,test1,test2,test3

  # JOB 4: Ð›Ð¸Ð½Ñ‚ÐµÑ€Ñ‹ (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)
  run-linters:
    runs-on: ubuntu-latest
    name: ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð° ÐºÐ¾Ð´Ð°
    needs: [run-structure-tests, run-io-tests]
    if: always()
    
    steps:
      - uses: actions/checkout@v4
      
      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: "3.10"
      
      - name: Install and run linters
        run: |
          echo "## ðŸ” ÐÐ½Ð°Ð»Ð¸Ð· ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð° ÐºÐ¾Ð´Ð°" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          
          if [ ! -f "task.py" ]; then
            echo "âš ï¸ Ð¤Ð°Ð¹Ð» task.py Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½" >> $GITHUB_STEP_SUMMARY
            exit 0
          fi
          
          pip install pylint flake8 -q
          
          echo "### PyLint Results" >> $GITHUB_STEP_SUMMARY
          echo '```' >> $GITHUB_STEP_SUMMARY
          pylint task.py --exit-zero 2>&1 | tail -20 >> $GITHUB_STEP_SUMMARY || true
          echo '```' >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          
          echo "*ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ðµ: Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð° Ð½Ðµ Ð²Ð»Ð¸ÑÐµÑ‚ Ð½Ð° Ð¾Ñ†ÐµÐ½ÐºÑƒ*" >> $GITHUB_STEP_SUMMARY
